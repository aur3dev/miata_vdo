#include <stdio.h>
#include "Arduino.h"
#include <avr/power.h>
#include <SoftwareSerial.h>
#include <DHT.h>
#include <Adafruit_Sensor.h>

#include <ArduinoJson.h>
//dht pin
#define DHTPIN_out 2 //on digital PIN D2
#define DHTPIN_in 3

//bluetooth pin
#define TX 11
#define RX 10

//dht object
#define DHTTYPE DHT22   // DHT 22  (AM2302)

//bluetooth object
  StaticJsonDocument<100> firstJSON;

//dht sensor declaration
DHT sensorOut(DHTPIN_out, DHTTYPE);
DHT sensorIn(DHTPIN_in, DHTTYPE);


float humidityOut, temperatureOut, humidityIn, temperatureIn;


void temp();

void setup() {

	Serial.begin(9600);
	sensorOut.begin();
	sensorIn.begin();
}
void loop() {

temp();
}
void temp() {
	humidityOut = sensorOut.readHumidity();
			temperatureOut = sensorOut.readTemperature();

			humidityIn = sensorIn.readHumidity();
			temperatureIn = sensorIn.readTemperature();
			  firstJSON["temperature"] = humidityIn;
			  firstJSON["humidity"] = temperatureIn;
			  char buffer[100];
			//print log on console
			//Serial.print("Humidity Out: ");
			//Serial.print(" \t ");
			//Serial.print("Temperature Out: ");
		//	Serial.print(temperatureOut);
			//Serial.println(" *C");
			//Serial.println("-----------------------------------------------------");
			//Serial.print("Humidity In: ");
			//Serial.print(humidityIn);
			//Serial.print("\t");
			//Serial.print("Temperature In: ");
		//	Serial.print(temperatureIn);
		//	Serial.println(" *C ");
			  serializeJson(firstJSON, buffer);
			  Serial.print("Data serialised: ");
			   Serial.println(buffer);
			delay(2000);
}

